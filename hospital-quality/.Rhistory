getwd()
outcomes <- read.csv("outcome-of-care-measures.csv", colClasses = "character")
head(outcomes,5)
colNames(outcomes)
names(outcomes)
names(outcomes[1])
names(outcomes[2])
head(names(outcomes[2]))
head(names(outcomes))
head(names(outcomes[11]))
outcomes[,11] <- as.numeric(outcomes[,11])
hist(outcomes[,11])
head(names(outcomes[7]))
head(outcomes[7])
is.element("NY", outcomes[7])
is.element("AL", outcomes[7])
is.element(AL, outcomes[7])
any(outcomes[7]=="AL")
any(outcomes[7]=="NY")
any(outcomes[7]=="BY")
any(outcomes[7]=="Bplm")
any(outcomes[7]=="PA")
state = "NY"
try(if !any(outcome[7]==state) stop("invalid state"))
try(if any(outcome[7]!=state) stop("invalid state"))
if !any(outcomes[7]==state){
stop("invalid state"))
}
if !any(outcomes[7]==state){
stop("invalid state")
}
!any(outcomes[7]==state)
if (!any(outcomes[7]==state)){
stop("invalid state")
}
if !any(outcomes[7]==state)
if (any(outcomes[7]!=state)){
stop("invalid state")
}
outcomes[7]==state
any(outcomes[7]==state)
any(outcomes[7]!=state)
!any(outcomes[7]==state)
if (!any(outcomes[7]==state)){
stop("invalid state")
}
state = "MK"
if (!any(outcomes[7]==state)){
stop("invalid state")
}
dim(outcomes)
head(names(outcomes))
head(names(outcomes),10)
head(names(outcomes),15)
tail(names(outcomes),5)
tail(names(outcomes),10)
names(outcomes[12:14])
names(outcomes[15:20])
names(outcomes[20:25])
names(outcomes[23])
names(outcomes[17])
head(names(outcomes))
head(outcomes$Hospital.Name)
head(names(outcomes),10)
head(outcomes$Hospital.Name[outcomes$State == "NY"])
head(outcomes$Hospital.Name[outcomes$State == "AL"])
head(outcomes$Hospital.Name[outcomes$State == "CA"])
length(outcomes$Hospital.Name[outcomes$State == "CA"])
length(outcomes$Hospital.Name[outcomes$State == "NY"])
stat = "Hospital.Name"
length(outcomes$stat[outcomes$State == "NY"])
names(outcome[,11])
names(outcomes[,11])
names(outcomes)
head(outcomes$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack)
which.min(head(outcomes$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack))
which.min(head(outcomes[,11]))
which.min(head(outcomes[,17]))
which.min(head(outcomes[,30]))
which.min(outcomes[,11])
st <- outcomes$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack[outcomes$State == state]
head(st)
state = "NY"
st <- outcomes$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack[outcomes$State == state]
head(st)
which.min(st)
head(outcomes)
hosp <- outcomes$Hospital.Name[outcomes$State == state]
hosp[which.min(st)]
state = "CA"
st <- outcomes$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack[outcomes$State == state]
hosp <- outcomes$Hospital.Name[outcomes$State == state]
hospital <- hosp[which.min(st)]
state = "FL"
st <- outcomes$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack[outcomes$State == state]
hosp <- outcomes$Hospital.Name[outcomes$State == state]
hospital <- hosp[which.min(st)]
state = "PA"
st <- outcomes$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack[outcomes$State == state]
hosp <- outcomes$Hospital.Name[outcomes$State == state]
hospital <- hosp[which.min(st)]
state = "CT"
st <- outcomes$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack[outcomes$State == state]
hosp <- outcomes$Hospital.Name[outcomes$State == state]
hospital <- hosp[which.min(st)]
outcomes[, 17] <- as.numeric(outcomes[, 17])
st <- outcomes$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure[outcomes$State == state]
hosp <- outcomes$Hospital.Name[outcomes$State == state]
hospital <- hosp[which.min(st)]
outcomes[, 30] <- as.numeric(outcomes[, 30])
st <- outcomes$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia[outcomes$State == state]
hosp <- outcomes$Hospital.Name[outcomes$State == state]
hospital <- hosp[which.min(st)]
source("best.r")
source("best.r")
hospital <- best("NY","heart attack")
hospital <- best("NJ","heart attack")
hospital <- best("PU","heart attack")
hospital <- best("MD","heart attack")
hospital <- best("MD","pneuomia")
hospital <- best("MD","pneumonia")
hospital <- best("MD","bart attack")
length(hosp)
length("st")
length(st)
cbind(hosp,st)
outcomes[, 11] <- as.numeric(outcomes[, 11])
st <- outcomes$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack[outcomes$State == state]
hosp <- outcomes$Hospital.Name[outcomes$State == state]
cbind(hosp,st)
?order
oder(st, hosp, na.last = TRUE)
order(st, hosp, na.last = TRUE)
num = 5
hosp_rank <- order(st, hosp, na.last = TRUE)
hosp_rank[5]
hosp_rank[1]
hosp_rank[2]
hosp[hosp_rank[num]]
hosp[hosp_rank[1]]
source("rankhospital.r")
source(rankhospital.r)
source(rankhospital.R)
getwd()
dir()
source("rankhospital.R")
rank5 = rankhospital("CT","heart attack", 5)
rank1 = rankhospital("CT","heart attack", 1)
rank1 = rankhospital("CT","heart failure", 1)
hosp[5]
rank1 = rankhospital("CT","heart attack", 2)
rank1 = rankhospital("CT","heart attack", 3)
rank1 = rankhospital("CT","heart attack", 4)
rank1 = rankhospital("NY","heart attack", 1)
best("NY", "heart attack")
source("rankhospital.R")
rank1 = rankhospital("NY","heart attack", 1)
source("rankhospital.R")
rk = rankhospital("NY", "heat attack", 1)
rk = rankhospital("NY", "heart attack", 1)
rankhospital("NY", "heart attack", 1)
rankhospital("NY", "heart attack", 50000)
rankhospital("NY", "heart attack", "best")
source("rankhospital.R")
rankhospital("NY", "heart attack", "best")
rankhospital("NY", "heart attack", "worst")
if (!any(outcomes[7]==state)){ stop("invalid state") }
states_list <- unique(outcomes$State)
head(states_list)
col_num <- 11
subset <- outcomes[outcomes$State == state]
subset <- outcomes[outcomes$State == state,]
subset <- outcomes[outcomes$State == state,c(7, col_num)]
head(subset)
df <- data.frame(c(1,2,3,4,5),c(2,3,4,5,6))
df
length(state_list)
dim(states_list)
length(states_list)
states_list
states_list <- unique(outcomes$State)
names_list <- vector(mode = "character", length = length(states.list))
df <- data.frame(names_list, states_list)
colnames(df) <- c("Hospital.Name", "State")
states_list <- unique(outcomes$State)
names_list <- vector(mode = "character", length = length(states_list))
df <- data.frame(names_list, states_list)
colnames(df) <- c("Hospital.Name", "State")
head(df)
df[df$State, df$Hospital.Name] <- rank1
df[which(df$State == state), df$Hospital.Name] <- hospital
state
colnames(df) <- c("Hospital.Name", "State")
head(df)
df[which(df$State == state), df$Hospital.Name] <- hospital
which(df$State == state)
df[7,]
df[which(df$State == state),]
df[which(df$State == state),df$Hospital.Name]
df[which(df$State == state),1]
df[which(df$State == state),1] <- hospital
df$Hospital.Name[which(df$State == state)] = hospital
class(df$Hospital.Name)
class(names_list)
names_list[which(df$State == state)] <- hospital
source('~/Documents/hospital-quality/rankall.r')
ranks <- rankall("heart attack", 1)
head(ranks)
ranks <- rankall("heart attack", "worst")
ranks
ranks <- rankall("heart attack", "best")
head(ranks)
ranks <- rankall("heart attack", "5")
head(ranks)
head(ranks,20)
ranks <- rankall("heart attack", 5)
head(ranks,20)
